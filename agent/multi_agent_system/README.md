# ğŸ¤– ä¼ä¸šçº§å¤šæ™ºèƒ½ä½“AIç³»ç»Ÿ

> åŸºäºã€Šå¤šæ™ºèƒ½ä½“AIç³»ç»ŸåŸºç¡€ï¼šç†è®ºä¸æ¡†æ¶ã€‹æ„å»ºçš„ç”Ÿäº§çº§å¤šæ™ºèƒ½ä½“AIç³»ç»Ÿï¼Œé›†æˆç°ä»£AIå·¥å…·é“¾å’Œä¼ä¸šçº§ç‰¹æ€§ã€‚

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ª**ç”Ÿäº§å°±ç»ª**çš„ä¼ä¸šçº§å¤šæ™ºèƒ½ä½“AIç³»ç»Ÿï¼Œé‡‡ç”¨ç°ä»£è½¯ä»¶æ¶æ„è®¾è®¡åŸåˆ™ï¼Œå®ç°äº†ï¼š

- ğŸ§  **BDIè®¤çŸ¥æ¶æ„**ï¼šå®Œæ•´çš„ä¿¡å¿µ-æ„¿æœ›-æ„å›¾å¾ªç¯å®ç°
- ğŸ¤ **æ™ºèƒ½ä½“åä½œ**ï¼šä¸“ä¸šåŒ–æ™ºèƒ½ä½“é—´çš„é«˜æ•ˆåä½œæœºåˆ¶
- ğŸ”„ **å·¥ä½œæµç¼–æ’**ï¼šåŸºäºLangGraphçš„å¤æ‚ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–
- ğŸ“Š **å…¨é“¾è·¯ç›‘æ§**ï¼šLangSmithé›†æˆçš„æ€§èƒ½è¿½è¸ªå’Œåˆ†æ
- ğŸ¢ **ä¼ä¸šçº§ç‰¹æ€§**ï¼šé«˜å¯ç”¨ã€å¯æ‰©å±•ã€å¯è§‚æµ‹çš„ç³»ç»Ÿè®¾è®¡

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ—ï¸ æ¶æ„è®¾è®¡

- ğŸ§  **BDIè®¤çŸ¥æ¶æ„**ï¼šå®Œæ•´çš„ä¿¡å¿µ-æ„¿æœ›-æ„å›¾è®¤çŸ¥å¾ªç¯
- ğŸ”„ **äº‹ä»¶é©±åŠ¨æ¶æ„**ï¼šå¼‚æ­¥æ¶ˆæ¯å¤„ç†å’Œå“åº”å¼è®¾è®¡
- ğŸ¯ **å¾®æœåŠ¡æ¶æ„**ï¼šæ¾è€¦åˆã€é«˜å†…èšçš„æ¨¡å—åŒ–è®¾è®¡
- ğŸ“ **SOLIDåŸåˆ™**ï¼šéµå¾ªé¢å‘å¯¹è±¡è®¾è®¡æœ€ä½³å®è·µ

### ğŸ¤– æ™ºèƒ½ä½“èƒ½åŠ›

- ğŸ”¬ **ä¸“ä¸šåŒ–æ™ºèƒ½ä½“**ï¼šç ”ç©¶ã€åˆ†æã€å®¢æœç­‰é¢†åŸŸä¸“å®¶
- ğŸ¤ **åä½œæœºåˆ¶**ï¼šæ™ºèƒ½ä½“é—´çš„é«˜æ•ˆåä½œå’Œä»»åŠ¡åˆ†é…
- ğŸ§© **æ’ä»¶åŒ–æ‰©å±•**ï¼šæ”¯æŒè‡ªå®šä¹‰æ™ºèƒ½ä½“å’Œèƒ½åŠ›æ‰©å±•
- ğŸ­ **è§’è‰²é€‚é…**ï¼šåŠ¨æ€è§’è‰²åˆ‡æ¢å’Œèƒ½åŠ›ç»„åˆ

### ğŸ”§ æŠ€æœ¯æ ˆ

- ğŸŒŠ **LangGraphå·¥ä½œæµ**ï¼šå¤æ‚ä¸šåŠ¡æµç¨‹çš„å¯è§†åŒ–ç¼–æ’
- ğŸ“Š **LangSmithç›‘æ§**ï¼šå…¨é“¾è·¯è¿½è¸ªå’Œæ€§èƒ½åˆ†æ
- ğŸš€ **FastAPIæ¡†æ¶**ï¼šé«˜æ€§èƒ½å¼‚æ­¥Web API
- ğŸ³ **å®¹å™¨åŒ–éƒ¨ç½²**ï¼šDocker + Kubernetesç”Ÿäº§éƒ¨ç½²

### ğŸ›¡ï¸ ä¼ä¸šçº§ç‰¹æ€§

- ğŸ“ˆ **é«˜å¯ç”¨æ€§**ï¼šæ•…éšœæ¢å¤å’Œè´Ÿè½½å‡è¡¡
- ğŸ”’ **å®‰å…¨è®¤è¯**ï¼šAPIå¯†é’¥å’Œè®¿é—®æ§åˆ¶
- ğŸ“Š **å¯è§‚æµ‹æ€§**ï¼šæ—¥å¿—ã€æŒ‡æ ‡ã€é“¾è·¯è¿½è¸ª
- âš¡ **é«˜æ€§èƒ½**ï¼šå¼‚æ­¥å¤„ç†å’Œèµ„æºä¼˜åŒ–

## ğŸ“ é¡¹ç›®ç»“æ„

```bash
multi_agent_system/
â”œâ”€â”€ ğŸ“‚ src/                           # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ ğŸ¤– agents/                    # æ™ºèƒ½ä½“æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ base_agent.py            # ğŸ§  BDIåŸºç¡€æ™ºèƒ½ä½“æ¶æ„
â”‚   â”‚   â”œâ”€â”€ research_agent.py        # ğŸ”¬ ç ”ç©¶ä¸“å®¶æ™ºèƒ½ä½“
â”‚   â”‚   â””â”€â”€ analysis_agent.py        # ğŸ“Š åˆ†æä¸“å®¶æ™ºèƒ½ä½“
â”‚   â”œâ”€â”€ ğŸ“¡ communication/             # é€šä¿¡ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ message_bus.py           # ğŸšŒ ä¼ä¸šçº§æ¶ˆæ¯æ€»çº¿
â”‚   â”œâ”€â”€ ğŸ”„ workflows/                 # å·¥ä½œæµå¼•æ“
â”‚   â”‚   â””â”€â”€ langgraph_workflow.py    # ğŸŒŠ LangGraphå·¥ä½œæµç¼–æ’
â”‚   â”œâ”€â”€ ğŸ¯ examples/                  # åº”ç”¨ç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ customer_service_system.py # ğŸ§ æ™ºèƒ½å®¢æœç³»ç»Ÿ
â”‚   â””â”€â”€ ğŸš€ main.py                   # ä¸»åº”ç”¨å…¥å£
â”œâ”€â”€ ğŸ§ª tests/                        # æµ‹è¯•å¥—ä»¶
â”‚   â””â”€â”€ test_system.py              # ğŸ” ç³»ç»Ÿé›†æˆæµ‹è¯•
â”œâ”€â”€ âš™ï¸ config.json                   # ç³»ç»Ÿé…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ“¦ requirements.txt              # Pythonä¾èµ–æ¸…å•
â”œâ”€â”€ ğŸ³ Dockerfile                    # å®¹å™¨åŒ–é…ç½®
â”œâ”€â”€ ğŸ™ docker-compose.yml           # å¤šæœåŠ¡ç¼–æ’
â””â”€â”€ ğŸ“– README.md                     # é¡¹ç›®æ–‡æ¡£
```

### ğŸ“‹ ç›®å½•è¯´æ˜

| ç›®å½•/æ–‡ä»¶ | åŠŸèƒ½æè¿° | å…³é”®ç‰¹æ€§ |
|-----------|----------|----------|
| `src/agents/` | æ™ºèƒ½ä½“æ ¸å¿ƒå®ç° | BDIæ¶æ„ã€ä¸“ä¸šåŒ–èƒ½åŠ›ã€åä½œæœºåˆ¶ |
| `src/communication/` | é€šä¿¡åŸºç¡€è®¾æ–½ | æ¶ˆæ¯æ€»çº¿ã€å‘å¸ƒè®¢é˜…ã€è¯·æ±‚å“åº” |
| `src/workflows/` | å·¥ä½œæµå¼•æ“ | LangGraphé›†æˆã€æµç¨‹ç¼–æ’ã€çŠ¶æ€ç®¡ç† |
| `src/examples/` | ä¸šåŠ¡åº”ç”¨ç¤ºä¾‹ | æ™ºèƒ½å®¢æœã€ç ”ç©¶åˆ†æã€æœ€ä½³å®è·µ |
| `tests/` | æµ‹è¯•è¦†ç›– | å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€æ€§èƒ½æµ‹è¯• |
| `config.json` | é…ç½®ç®¡ç† | ç¯å¢ƒé…ç½®ã€APIå¯†é’¥ã€ç³»ç»Ÿå‚æ•° |

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### ğŸ“ åˆ†å±‚æ¶æ„è®¾è®¡

```mermaid
graph TB
    subgraph "ğŸ–¥ï¸ è¡¨ç¤ºå±‚"
        UI["ğŸŒ Webç•Œé¢"]
        API["ğŸš€ REST API"]
        CLI["ğŸ’» å‘½ä»¤è¡Œ"]
    end
    
    subgraph "ğŸ¯ åº”ç”¨å±‚"
        Gateway["ğŸšª APIç½‘å…³"]
        Auth["ğŸ” è®¤è¯æˆæƒ"]
        Router["ğŸ”€ è¯·æ±‚è·¯ç”±"]
    end
    
    subgraph "ğŸ¤– æ™ºèƒ½ä½“å±‚"
        Orchestrator["ğŸ¼ æ™ºèƒ½ä½“ç¼–æ’å™¨"]
        Research["ğŸ”¬ ç ”ç©¶æ™ºèƒ½ä½“"]
        Analysis["ğŸ“Š åˆ†ææ™ºèƒ½ä½“"]
        Customer["ğŸ§ å®¢æœæ™ºèƒ½ä½“"]
    end
    
    subgraph "ğŸ”„ å·¥ä½œæµå±‚"
        LangGraph["ğŸŒŠ LangGraphå¼•æ“"]
        StateManager["ğŸ“‹ çŠ¶æ€ç®¡ç†"]
        TaskQueue["ğŸ“ ä»»åŠ¡é˜Ÿåˆ—"]
    end
    
    subgraph "ğŸ“¡ é€šä¿¡å±‚"
        MessageBus["ğŸšŒ æ¶ˆæ¯æ€»çº¿"]
        PubSub["ğŸ“¢ å‘å¸ƒè®¢é˜…"]
        ReqRes["ğŸ”„ è¯·æ±‚å“åº”"]
    end
    
    subgraph "ğŸ’¾ æ•°æ®å±‚"
        Memory["ğŸ§  å†…å­˜å­˜å‚¨"]
        Cache["âš¡ ç¼“å­˜å±‚"]
        Persistence["ğŸ’¿ æŒä¹…åŒ–"]
    end
    
    subgraph "ğŸ“Š ç›‘æ§å±‚"
        LangSmith["ğŸ” LangSmith"]
        Metrics["ğŸ“ˆ æŒ‡æ ‡æ”¶é›†"]
        Logging["ğŸ“ æ—¥å¿—ç³»ç»Ÿ"]
    end
    
    UI --> Gateway
    API --> Gateway
    CLI --> Gateway
    
    Gateway --> Orchestrator
    Auth --> Orchestrator
    Router --> Orchestrator
    
    Orchestrator --> Research
    Orchestrator --> Analysis
    Orchestrator --> Customer
    
    Research --> LangGraph
    Analysis --> LangGraph
    Customer --> LangGraph
    
    LangGraph --> MessageBus
    StateManager --> MessageBus
    TaskQueue --> MessageBus
    
    MessageBus --> Memory
    PubSub --> Cache
    ReqRes --> Persistence
    
    LangSmith --> Metrics
    Metrics --> Logging
```

### ğŸ”§ æ ¸å¿ƒç»„ä»¶è¯´æ˜

| å±‚çº§ | ç»„ä»¶ | èŒè´£ | æŠ€æœ¯æ ˆ |
|------|------|------|--------|
| **è¡¨ç¤ºå±‚** | Webç•Œé¢/API | ç”¨æˆ·äº¤äº’ã€æ¥å£æš´éœ² | FastAPI, Streamlit |
| **åº”ç”¨å±‚** | APIç½‘å…³ | è¯·æ±‚è·¯ç”±ã€è®¤è¯æˆæƒ | FastAPI, JWT |
| **æ™ºèƒ½ä½“å±‚** | ä¸“ä¸šæ™ºèƒ½ä½“ | ä¸šåŠ¡é€»è¾‘ã€AIæ¨ç† | LangChain, OpenAI |
| **å·¥ä½œæµå±‚** | LangGraphå¼•æ“ | æµç¨‹ç¼–æ’ã€çŠ¶æ€ç®¡ç† | LangGraph, StateGraph |
| **é€šä¿¡å±‚** | æ¶ˆæ¯æ€»çº¿ | å¼‚æ­¥é€šä¿¡ã€äº‹ä»¶é©±åŠ¨ | asyncio, Queue |
| **æ•°æ®å±‚** | å­˜å‚¨ç®¡ç† | æ•°æ®æŒä¹…åŒ–ã€ç¼“å­˜ | Redis, PostgreSQL |
| **ç›‘æ§å±‚** | å¯è§‚æµ‹æ€§ | è¿½è¸ªã€æŒ‡æ ‡ã€æ—¥å¿— | LangSmith, Prometheus |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### âš¡ ä¸€é”®å¯åŠ¨

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd multi_agent_system

# æ–¹å¼1ï¼šDockerå¯åŠ¨ï¼ˆæ¨èï¼‰
docker-compose up -d

# æ–¹å¼2ï¼šæœ¬åœ°å¯åŠ¨
pip install -r requirements.txt
python main.py
```

### ğŸ”§ ç¯å¢ƒé…ç½®

**å¿…éœ€ç¯å¢ƒï¼š**

- Python 3.11+
- Dockerï¼ˆæ¨èï¼‰

**APIå¯†é’¥é…ç½®ï¼š**

```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export OPENAI_API_KEY="your-openai-key"
export LANGSMITH_API_KEY="your-langsmith-key"

# æˆ–ç¼–è¾‘ config.json
{
  "openai_api_key": "your-openai-key",
  "langsmith_api_key": "your-langsmith-key"
}
```

### ğŸ“± è®¿é—®ç•Œé¢

å¯åŠ¨åå¯é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¿é—®ï¼š

| æœåŠ¡ | åœ°å€ | ç”¨é€” |
|------|------|------|
| ğŸŒ Webç•Œé¢ | <http://localhost:8501> | ç”¨æˆ·å‹å¥½ç•Œé¢ |
| ğŸš€ APIæ–‡æ¡£ | <http://localhost:8000/docs> | REST API |
| ğŸ“Š ç›‘æ§é¢æ¿ | <http://localhost:3000> | ç³»ç»Ÿç›‘æ§ |

### âœ… éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
curl http://localhost:8000/health

# è¿è¡Œæµ‹è¯•
python -m pytest tests/ -v
```

## ğŸ’» ä½¿ç”¨æŒ‡å—

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | æ¥å£ | ç¤ºä¾‹ |
|------|------|------|
| ğŸ”¬ ç ”ç©¶ä»»åŠ¡ | `POST /tasks` | å¸‚åœºåˆ†æã€æŠ€æœ¯è°ƒç ” |
| ğŸ“Š æ•°æ®åˆ†æ | `POST /analysis` | ç”¨æˆ·è¡Œä¸ºã€è¶‹åŠ¿é¢„æµ‹ |
| ğŸ§ æ™ºèƒ½å®¢æœ | `POST /chat` | é—®ç­”ã€å·¥å•å¤„ç† |
| ğŸ“ˆ ç³»ç»Ÿç›‘æ§ | `GET /metrics` | æ€§èƒ½æŒ‡æ ‡ã€å¥åº·æ£€æŸ¥ |

### ğŸ”§ APIä½¿ç”¨ç¤ºä¾‹

**åˆ›å»ºç ”ç©¶ä»»åŠ¡ï¼š**

```bash
curl -X POST "http://localhost:8000/tasks" \
  -H "Content-Type: application/json" \
  -d '{
    "type": "research",
    "query": "äººå·¥æ™ºèƒ½å‘å±•è¶‹åŠ¿",
    "priority": "high"
  }'
```

**æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€ï¼š**

```bash
curl "http://localhost:8000/tasks/{task_id}"
```

**æ™ºèƒ½å®¢æœå¯¹è¯ï¼š**

```bash
curl -X POST "http://localhost:8000/chat" \
  -H "Content-Type: application/json" \
  -d '{
    "message": "æˆ‘æƒ³äº†è§£äº§å“ä»·æ ¼",
    "user_id": "user123"
  }'
```

### ğŸ Python SDK

```python
from src.main import MultiAgentSystem
import asyncio

async def main():
    # åˆå§‹åŒ–ç³»ç»Ÿ
    system = MultiAgentSystem()
    await system.start()
    
    # åˆ›å»ºç ”ç©¶ä»»åŠ¡
    result = await system.create_task(
        task_type="research",
        query="åˆ†æå¸‚åœºè¶‹åŠ¿"
    )
    
    print(f"ä»»åŠ¡ç»“æœï¼š{result}")
    await system.stop()

asyncio.run(main())
```

### ğŸ“Š ç›‘æ§å’Œè°ƒè¯•

- **Grafanaé¢æ¿**ï¼š<http://localhost:3000> (admin/admin)
- **APIæ–‡æ¡£**ï¼š<http://localhost:8000/docs>
- **LangSmithè¿½è¸ª**ï¼š<https://smith.langchain.com>

## ğŸ”§ æ ¸å¿ƒç»„ä»¶

### ğŸ§  æ™ºèƒ½ä½“æ¶æ„

- **BDIåŸºç¡€æ™ºèƒ½ä½“**ï¼šä¿¡å¿µ-æ„¿æœ›-æ„å›¾è®¤çŸ¥å¾ªç¯
- **ç ”ç©¶æ™ºèƒ½ä½“**ï¼šä¿¡æ¯æ”¶é›†å’Œç ”ç©¶åˆ†æ
- **åˆ†ææ™ºèƒ½ä½“**ï¼šæ•°æ®åˆ†æå’Œæ´å¯Ÿæå–
- **å®¢æœæ™ºèƒ½ä½“**ï¼šå®¢æˆ·æœåŠ¡å’Œé—®é¢˜è§£å†³

### ğŸšŒ é€šä¿¡ä¸­é—´ä»¶

- **æ¶ˆæ¯æ€»çº¿**ï¼šå‘å¸ƒ-è®¢é˜…å’Œè¯·æ±‚-å“åº”æ¨¡å¼
- **ä¼˜å…ˆçº§é˜Ÿåˆ—**ï¼šä»»åŠ¡ä¼˜å…ˆçº§ç®¡ç†
- **é”™è¯¯å¤„ç†**ï¼šè‡ªåŠ¨é‡è¯•å’Œæ•…éšœæ¢å¤

### ğŸŒŠ å·¥ä½œæµå¼•æ“

- **LangGraphé›†æˆ**ï¼šå¯è§†åŒ–æµç¨‹ç¼–æ’
- **çŠ¶æ€ç®¡ç†**ï¼šå·¥ä½œæµçŠ¶æ€æŒä¹…åŒ–
- **æ¡ä»¶è·¯ç”±**ï¼šæ™ºèƒ½å†³ç­–åˆ†æ”¯
- **å¹¶è¡Œæ‰§è¡Œ**ï¼šå¤šä»»åŠ¡å¹¶å‘å¤„ç†

## ğŸ¯ åº”ç”¨ç¤ºä¾‹

### ğŸ”¬ ç ”ç©¶åˆ†æä»»åŠ¡

```python
# åˆ›å»ºç ”ç©¶ä»»åŠ¡
result = await system.create_task(
    task_type="research",
    query="äººå·¥æ™ºèƒ½å‘å±•è¶‹åŠ¿åˆ†æ",
    depth="comprehensive"
)
```

### ğŸ§ æ™ºèƒ½å®¢æœç³»ç»Ÿ

```python
# å¤„ç†å®¢æˆ·å’¨è¯¢
response = await customer_service.handle_inquiry(
    inquiry="æˆ‘æƒ³äº†è§£äº§å“ä»·æ ¼",
    customer_id="customer_123"
)
```

### ğŸ“Š æ•°æ®åˆ†æå·¥ä½œæµ

```python
# è¿è¡Œåˆ†æå·¥ä½œæµ
analysis = await system.run_analysis(
    data_source="user_behavior_logs",
    analysis_type="trend_prediction"
)
```

## âš™ï¸ é…ç½®ç®¡ç†

**config.json ä¸»è¦é…ç½®ï¼š**

```json
{
  "openai_api_key": "your-api-key",
  "langsmith_api_key": "your-langsmith-key",
  "log_level": "INFO",
  "max_concurrent_tasks": 10
}
```

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæµ‹è¯•
python -m pytest tests/ -v

# æµ‹è¯•è¦†ç›–ç‡
python -m pytest tests/ --cov=src
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

---

> ğŸ’¡ **æç¤º**ï¼šæœ¬é¡¹ç›®åŸºäºã€Šå¤šæ™ºèƒ½ä½“AIç³»ç»ŸåŸºç¡€ï¼šç†è®ºä¸æ¡†æ¶ã€‹å®ç°ï¼Œå±•ç¤ºäº†ç†è®ºåˆ°å®è·µçš„å®Œæ•´è½¬åŒ–è¿‡ç¨‹ã€‚
